<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="RSBot.Default.Views.Dialogs.TrainingAreasDialog"
        Width="620" Height="330"
        CanResize="False"
        ShowInTaskbar="False"
		xmlns:vm="clr-namespace:RSBot.Default.Views.Models;assembly=RSBot.Default"
		xmlns:core="clr-namespace:RSBot.Core.Objects;assembly=RSBot.Core"
        WindowStartupLocation="CenterOwner"
        Title="Training Areas - Right click for create"
		Opened="TrainingAreas_Load"
		Closing="TrainingAreas_FormClosing"
		x:DataType="vm:TrainingAreasDialogModel">

	<Design.DataContext>
		<vm:TrainingAreasDialogModel/>
	</Design.DataContext>

	<DockPanel Background="rgba(255, 255, 255, .1)">

		<!-- Bottom Panel -->
		<Grid ColumnDefinitions="Auto,*, Auto" Margin="10" DockPanel.Dock="Bottom" HorizontalAlignment="Stretch">
			<Button Grid.Column="0" x:Name="AcceptButton" Content="Accept" Click="buttonAccept_Click" HorizontalAlignment="Left" VerticalAlignment="Center" />
			<TextBlock Grid.Column="1" x:Name="labelPos"
                       Text="Right click for create new area"
                       HorizontalAlignment="Stretch"
                       VerticalAlignment="Center"
                       TextAlignment="Center"
                       Margin="10,0"/>
			<Button  Grid.Column="2" x:Name="CancelButton" Content="Cancel" HorizontalAlignment="Right" VerticalAlignment="Center" Click="CancelButton_Click"/>
		</Grid>

		<!-- Debug Info -->
		<TextBlock Text="{Binding Areas.Count, StringFormat='Areas Count: {0}'}" 
                   Margin="10,5,10,0" 
                   DockPanel.Dock="Top"
                   Foreground="White"
                   FontWeight="Bold"/>

		<!-- Header -->
		<Grid ColumnDefinitions="2*,1*,1*,1*,1*,1*" 
              Margin="10,10,10,0" 
              DockPanel.Dock="Top"
              Background="rgba(0, 0, 0, 0.1)"
              >
			<TextBlock Grid.Column="0" Text="Name" FontWeight="Bold" VerticalAlignment="Center"/>
			<TextBlock Grid.Column="1" Text="X" FontWeight="Bold" VerticalAlignment="Center"/>
			<TextBlock Grid.Column="2" Text="Y" FontWeight="Bold" VerticalAlignment="Center"/>
			<TextBlock Grid.Column="3" Text="Radius" FontWeight="Bold" VerticalAlignment="Center"/>
			<TextBlock Grid.Column="4" Text="Region" FontWeight="Bold" VerticalAlignment="Center"/>
			<TextBlock Grid.Column="5" Text="Is Selected" FontWeight="Bold" VerticalAlignment="Center"/>
		</Grid>

		<DataGrid ItemsSource="{Binding Areas}" 
                  x:Name="listView" 
                  Margin="10"
                  HorizontalAlignment="Stretch" 
                  VerticalAlignment="Stretch"
                  Background="Red"
                  BorderThickness="2" 
                  BorderBrush="Blue"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  GridLinesVisibility="All"
                  HeadersVisibility="Column"
                  CanUserResizeColumns="True"
                  CanUserReorderColumns="False"
                  CanUserSortColumns="False"
                  SelectionMode="Single"
                  Height="150"
                  RowHeight="30">
			<DataGrid.ContextMenu>
				<ContextMenu>
					<MenuItem Header="Create" Click="Create_Click"/>
					<MenuItem Header="Remove selected area" Click="RemoveSelected_Click"/>
				</ContextMenu>
			</DataGrid.ContextMenu>
			<DataGrid.Columns>
				<DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="*"/>
				<DataGridTextColumn Header="X" Binding="{Binding X}" Width="*"/>
				<DataGridTextColumn Header="Y" Binding="{Binding Y}" Width="*"/>
				<DataGridTextColumn Header="Radius" Binding="{Binding Radius}" Width="*"/>
				<DataGridTextColumn Header="Region" Binding="{Binding RegionName}" Width="*"/>
				<DataGridTextColumn Header="Selected" Binding="{Binding IsSelected}" Width="*"/>
			</DataGrid.Columns>
		</DataGrid>

	</DockPanel>
</Window>
